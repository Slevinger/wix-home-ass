(this["webpackJsonpwix-home-assignment"]=this["webpackJsonpwix-home-assignment"]||[]).push([[0],{127:function(e,n,t){e.exports=t(287)},132:function(e,n,t){},286:function(e,n,t){},287:function(e,n,t){"use strict";t.r(n);var a=t(1),r=t.n(a),c=t(24),o=t.n(c),i=(t(132),t(13)),l=t(14),u=t(15);function s(){var e=Object(l.a)(["\n  position: absolute;\n  width: ","px;\n  height: ","px;\n"]);return s=function(){return e},e}function d(){var e=Object(l.a)(["\n  width: 100%;\n  .game-status-container {\n    text-align: center;\n    justify-self: center;\n    align-self: center;\n    width: 100%;\n\n    font-size: 23px;\n    z-index: 10;\n\n    .game-status {\n      background-color: rgba(255, 255, 255, 0.4);\n      display: inline-flex;\n\n      .GAME_ON {\n        color: blue;\n      }\n\n      .WON {\n        color: green;\n      }\n\n      .LOSE {\n        color: red;\n      }\n    }\n  }\n  .board-page {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    margin-top: 40px;\n  }\n"]);return d=function(){return e},e}function g(){var e=Object(l.a)(["\n  max-width: ","px;\n  max-height: ","px;\n  box-shadow: 1px 1px 10px 2px;\n  overflow: auto;\n\n  @media (max-width: ","px) {\n    padding-bottom: 10px;\n    padding-right: 10px;\n  }\n"]);return g=function(){return e},e}function f(){var e=Object(l.a)(["\n          pointer-events: none;\n          opacity: 0.6;\n        "]);return f=function(){return e},e}function m(){var e=Object(l.a)(["\n  flex-direction: row;\n  display: flex;\n  flex-wrap: wrap;\n  justify-self:center;\n  overflow:auto;\n  width: ","px;\n  ","\n  }\n"]);return m=function(){return e},e}function p(){var e=Object(l.a)(["\n            cursor: pointer;\n          "]);return p=function(){return e},e}function b(){var e=Object(l.a)(["\n  width: ","px;\n  height: ","px;\n  line-height: ","px;\n  text-align: center;\n  border: solid thin black;\n  background-color: ",";\n  &:hover {\n    background-color: white;\n    ","\n  }\n  .fail-icon {\n    position: absolute;\n    left: -7px;\n    color: red;\n    width: 30px;\n    height: 30px;\n    font-weight: bold;\n  }\n"]);return b=function(){return e},e}function h(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: row;\n  font-size: 18px;\n  line-height: 30px;\n  text-align: center;\n  align-items: center;\n  margin-left: 10px;\n  margin-right: 10px;\n"]);return h=function(){return e},e}function v(){var e=Object(l.a)(["\n  padding: 5px;\n  font-size: 15px;\n  width: 30px;\n  margin-left: 10px;\n"]);return v=function(){return e},e}function x(){var e=Object(l.a)(["\n  flex-row: column;\n  display: flex;\n  justify-content: center;\n  padding: 7px;\n  width: 100%;\n  height: 30px;\n  background-color: rgba(0, 0, 0, 0.2);\n"]);return x=function(){return e},e}var O=u.b.div(x()),j=u.b.input(v()),w=u.b.div(h()),y=u.b.div(b(),28,28,28,(function(e){var n=e.clicked,t=e.superman;return n?"white":t?"rgba(0,40,40,0.1)":"rgba(0,10,10,0.2)"}),(function(e){return e.clicked?"":Object(u.a)(p())})),k=u.b.div(m(),(function(e){return 30*e.countCols}),(function(e){return"GAME ON"!==e.status?Object(u.a)(f()):""})),C=u.b.div(g(),800,700,800),E=u.b.div(d()),M=(u.b.div(s(),(function(e){var n=e.countCols;return Math.min(30*n,800)}),(function(e){var n=e.countRows;return Math.min(30*n,700)})),t(17)),F=t.n(M),N=t(28),S=t(126),R=function(e){var n=e.label,t=Object(S.a)(e,["label"]);return r.a.createElement(w,null,r.a.createElement("text",null,n),r.a.createElement(j,t))},G=function(e){var n=e.state.superman,t=e.setLoading,c=e.setSuperman,o=e.createBoard,l=Object(a.useState)(20),u=Object(i.a)(l,2),s=u[0],d=u[1],g=Object(a.useState)(20),f=Object(i.a)(g,2),m=f[0],p=f[1],b=Object(a.useState)(12),h=Object(i.a)(b,2),v=h[0],x=h[1];return Object(a.useEffect)((function(){o(m,s,v)}),[]),r.a.createElement(O,null,r.a.createElement(R,{label:"Col Count",value:s,onChange:function(e){d(Number(e.target.value))}}),r.a.createElement(R,{label:"Row Count",value:m,onChange:function(e){p(Number(e.target.value))}}),r.a.createElement(R,{label:"Mines",value:v,onChange:function(e){x(Number(e.target.value))}}),r.a.createElement(R,{label:"SUPERMAN",checked:n,type:"checkbox",style:{transform:"scale(2)"},onChange:function(e){c(!n)}}),r.a.createElement("button",{onClick:Object(N.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(!0);case 2:setTimeout(Object(N.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(m,s,v);case 2:t(!1);case 3:case"end":return e.stop()}}),e)}))),0);case 3:case"end":return e.stop()}}),e)})))},"New Game"))},W=t(81),A=t(117),B=function(e){var n=e.indexes,t=e.value,c=e.id,o=e.count,i=e.superman,l=(e.reveal,e.clicked),u=e.flagged,s=e.clickCell,d=e.toggleFlag,g=(e.endGame,Object(a.useMemo)((function(){return u?r.a.createElement(W.b,{color:"red"}):i||l?t?r.a.createElement("span",{style:{display:"inline-block",position:"relative"}},r.a.createElement(W.a,{textAnchor:"middle",alignmentBaseline:"middle"}),l&&t&&r.a.createElement(A.a,{textAnchor:"middle",className:"fail-icon",alignmentBaseline:"middle"})):o>0?o:"":void 0}),[l,i,t,o,u])),f=function(){var e=Object(N.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.altKey?d(n):l||u||s(n);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return r.a.createElement(y,{onClick:f,clicked:l,id:c,indexes:n,superman:i},g)},L=t(118),z=t.n(L);function T(){var e=Object(l.a)(["\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  background-color: rgba(0, 0, 0, 0.2);\n  align-items: center;\n  display: flex;\n  justify-content: center;\n"]);return T=function(){return e},e}var I=u.b.div(T()),J=function(){return r.a.createElement(I,null,r.a.createElement(z.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3}),r.a.createElement("div",{style:{fontSize:"60px",color:"white"}},"Creating new board ..."))},P=t(125),V=(t(214),function(e,n){return"row:".concat(e,",col:").concat(n)}),_=function(e){var n=e.state,t=n.map,a=n.height,c=n.width,o=n.countMines,i=n.countFlags,l=n.board,u=n.clicked,s=n.neighbors,d=n.flagged,g=n.status,f=n.superman,m=e.loading,p=e.endGame,b=e.toggleFlag,h=e.clickCell,v=e.reveal,x=o-i;return r.a.createElement("div",{className:"board-page"},m&&r.a.createElement(J,null),r.a.createElement(C,null,0===x&&"WON"!==g&&r.a.createElement("div",{style:{color:"red"}},"No More Flags"),r.a.createElement(k,{status:g,countCols:l[0].length,countRows:l.length},r.a.createElement(P.a,{cellRenderer:function(e){var n=e.columnIndex,a=e.key,c=e.rowIndex,o=e.style,i=V(c,n);return r.a.createElement("div",{style:o,key:a},r.a.createElement(B,{endGame:p,key:i,id:i,clicked:u[i],clickCell:h,reveal:v,flagged:d[i],toggleFlag:b,count:s[i],indexes:i,value:t[i],superman:f}))},columnCount:c,columnWidth:30,height:600,overscanColumnCount:c/10,overscanRowCount:a/10,rowCount:a,rowHeight:30,width:800}))))},D=t(29),H=t(10),K=function(e,n,t){for(var a=e.match(/row:([0-9]+),col:([0-9]+)/),r=Number(a[1]),c=Number(a[2]),o=[],i=Math.max(0,r-1);i<=Math.min(n-1,r+1);i++)for(var l=Math.max(0,c-1);l<=Math.min(t-1,c+1);l++)o.push([i,l]);return o},Q=(t(217),function(e,n,t){for(var a={},r={},c=[],o=t,l=e*n,u=0;u<e;u++){c.push([]);for(var s=0;s<n;s++)o/l>=Math.random()&&(r[V(u,s)]=1,o--),a[V(u,s)]=r[V(u,s)]||0,c[u].push(a[V(u,s)]),l--}var d={};return Object.keys(r).forEach((function(t){K(t,e,n).forEach((function(e){var n=Object(i.a)(e,2),t=n[0],a=n[1];d[V(t,a)]=(d[V(t,a)]||0)+1}))})),{countMines:t,width:n,height:e,status:"GAME ON",clicked:{},board:c,mines:r,map:a,neighbors:d}}),U=t(123),Y=t.n(U),$=t(124),q=t.n($),X={neighbors:{},flagged:{},map:{},mines:{},board:[],clicked:{},status:"NOT READY",superman:!1,flaggedMinesCount:0,countFlags:0},Z=function(e,n){var t=n.type,a=n.payload;switch(t){case"clickCell":var r=a.indexes;return Object(H.a)({},e,{clicked:Object(H.a)({},e.clicked,Object(D.a)({},r,1))});case"flagCell":var c=a.indexes;return Object(H.a)({},e,{countFlags:e.countFlags+1,flagged:Object(H.a)({},e.flagged,Object(D.a)({},c,1))});case"decFlaggedMinesCount":return Object(H.a)({},e,{flaggedMinesCount:e.flaggedMinesCount-1});case"incFlaggedMinesCount":return Object(H.a)({},e,{flaggedMinesCount:e.flaggedMinesCount+1});case"unFlagCell":var o=a.indexes;return Object(H.a)({},e,{countFlags:e.countFlags-1,flagged:q()(e.flagged,Object.keys(e.flagged).filter((function(e){return e!==o})))});case"reset":var i=a;return Object(H.a)({},X,{},i);case"setSuperman":var l=a.isSuperman;return Object(H.a)({},e,{superman:l});case"reveal":var u=a.listOfCellsToReaveal;return Object(H.a)({},e,{clicked:Object(H.a)({},e.clicked,{},u)});case"endGame":var s=a.status;return Object(H.a)({},e,{superman:!0,status:s});case"gemeWon":return Object(H.a)({},e,{flagged:e.mines,status:"WON"});default:return e}},ee=function(){var e=Object(a.useReducer)(Z,X),n=Object(i.a)(e,2),t=n[0],r=n[1],c=function(e){var n=e.additionalCells,a=e.addOrRemoveFromFlagsCount,c=Object(H.a)({},t.clicked,{},n),o=!1;if(t.height*t.width-Object.keys(c).length===t.countMines){var i=Object.keys(t.mines).filter((function(e){return!c[e]}));o=0===Y()(i,Object.keys(t.mines)).length}(o||t.flaggedMinesCount+a===t.countMines)&&r({type:"gemeWon"})},o=function(e){r({type:"endGame",payload:{status:e}})},l=function(e){r({type:"flagCell",payload:{indexes:e}}),t.mines[e]&&(r({type:"incFlaggedMinesCount"}),c({addOrRemoveFromFlagsCount:1,additionalCells:{}}))},u=function(e){r({type:"unFlagCell",payload:{indexes:e}}),t.mines[e]&&r({type:"decFlaggedMinesCount"})},s=function(e,n){var a=function(e,n){var t=function(){var e=[],n={};return{pop:function(){return e.splice(0,1)[0]},push:function(t){n[t]||(e.push(t),n[t]=t)},peek:function(){return e[e.length-1]},getQueue:function(){return e},didVisit:function(e){return!!n[e]},getVisited:function(){return n},isEmpty:function(){return 0===e.length}}}(),a={},r=n.clicked,c=n.neighbors,o=n.width,l=n.height;for(t.push(e);!t.isEmpty();)for(var u=t.pop(),s=K(u,l,o),d=0;d<s.length;d++){var g=Object(i.a)(s[d],2),f=g[0],m=g[1],p=V(f,m);a[p]=1,c[p]||r[p]||t.push(p)}return a}(V(e,n),t);r({type:"reveal",payload:{listOfCellsToReaveal:a}}),c({addOrRemoveFromFlagsCount:0,additionalCells:a})};return{state:t,clickCell:function(e){t.map[e]&&o("LOSE"),t.neighbors[e]||s(e),r({type:"clickCell",payload:{indexes:e}}),c({addOrRemoveFromFlagsCount:0,additionalCells:Object(D.a)({},e,1)})},setSuperman:function(e){r({type:"setSuperman",payload:{isSuperman:e}})},endGame:o,toggleFlag:function(e){t.flagged[e]?u(e):Object.keys(t.flagged).length<t.countMines&&l(e)},reveal:s,createBoard:function(){var e=Object(N.a)(F.a.mark((function e(n,t,a){var c;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Q(n,t,a),e.next=3,r({type:"reset",payload:Object(H.a)({},c)});case 3:case"end":return e.stop()}}),e)})));return function(n,t,a){return e.apply(this,arguments)}}()}},ne=function(e){var n=e.status,t=e.flagged,a=e.countMines-(Object.keys(t).length||0);return r.a.createElement("div",{className:"game-status-container"},r.a.createElement("div",{className:"game-status"},"Flags Lefts : (".concat(a,") "),r.a.createElement("text",{className:n.replace(" ","_"),style:{marginLeft:10}},n)))},te=function(){var e=ee(),n=Object(a.useState)(!1),t=Object(i.a)(n,2),c=t[0],o=t[1],l=e.state.board;return r.a.createElement(E,null,r.a.createElement(G,Object.assign({setLoading:o},e)),r.a.createElement(ne,e.state),l.length>0&&r.a.createElement(_,Object.assign({loading:c},e)))};t(286);var ae=function(){return r.a.createElement(te,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[127,1,2]]]);
//# sourceMappingURL=main.d03c50da.chunk.js.map